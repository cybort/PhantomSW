<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SystemCLanguage: sysc/kernel/sc_process.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>sysc/kernel/sc_process.h</h1><a href="a00366.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">  Licensed to Accellera Systems Initiative Inc. (Accellera) under one or</span>
<a name="l00004"></a>00004 <span class="comment">  more contributor license agreements.  See the NOTICE file distributed</span>
<a name="l00005"></a>00005 <span class="comment">  with this work for additional information regarding copyright ownership.</span>
<a name="l00006"></a>00006 <span class="comment">  Accellera licenses this file to you under the Apache License, Version 2.0</span>
<a name="l00007"></a>00007 <span class="comment">  (the &quot;License&quot;); you may not use this file except in compliance with the</span>
<a name="l00008"></a>00008 <span class="comment">  License.  You may obtain a copy of the License at</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">    http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">  Unless required by applicable law or agreed to in writing, software</span>
<a name="l00013"></a>00013 <span class="comment">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00014"></a>00014 <span class="comment">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or</span>
<a name="l00015"></a>00015 <span class="comment">  implied.  See the License for the specific language governing</span>
<a name="l00016"></a>00016 <span class="comment">  permissions and limitations under the License.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment"> *****************************************************************************/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*****************************************************************************</span>
<a name="l00021"></a>00021 <span class="comment"></span>
<a name="l00022"></a>00022 <span class="comment">  sc_process.h -- Process base class support.</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">  Original Author: Andy Goodrich, Forte Design Systems, 04 August 2005</span>
<a name="l00025"></a>00025 <span class="comment"></span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="comment">  CHANGE LOG AT THE END OF THE FILE</span>
<a name="l00028"></a>00028 <span class="comment"> *****************************************************************************/</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#if !defined(sc_process_h_INCLUDED)</span>
<a name="l00032"></a><a class="code" href="a00366.html#a13c59dcea6c471917bf87e53f09cf0c1">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define sc_process_h_INCLUDED</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="a00344.html">sysc/kernel/sc_constants.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="a00362.html">sysc/kernel/sc_object.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="a00355.html">sysc/kernel/sc_kernel_ids.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="a00275.html">sysc/communication/sc_export.h</a>&quot;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; !defined(SC_WIN_DLL_WARN)</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(push)</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(disable: 4251) // DLL import for std::vector</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="keyword">namespace </span>sc_core {
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">// Forward declarations:</span>
<a name="l00047"></a>00047 <span class="keyword">class </span>sc_process_handle;
<a name="l00048"></a>00048 <span class="keyword">class </span>sc_thread_process;
<a name="l00049"></a>00049 <span class="keyword">class </span><a class="code" href="a00404.html#a2f799bb3cc6a5586c5a89cb998c4e30d">sc_reset</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00404.html#a378479e6d63d99df82cd55b6b8ee7aa8">sc_gen_unique_name</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>*, <span class="keywordtype">bool</span> preserve_first );
<a name="l00052"></a>00052 <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a>  sc_process_handle <a class="code" href="a00404.html#a9ecafc84e894dcf005776dc4e4ba6cdf">sc_get_current_process_handle</a>();
<a name="l00053"></a>00053 <span class="keywordtype">void</span> <a class="code" href="a00404.html#aabd066bb337994094ef03529230382f5">sc_thread_cor_fn</a>( <span class="keywordtype">void</span>* arg );
<a name="l00054"></a>00054 <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keywordtype">bool</span> <a class="code" href="a00404.html#a03fee28edc2913a881713c746de992bc">timed_out</a>( <a class="code" href="a00404.html#a1fe6dc8a8b7107201b40dbe0c50e7961">sc_simcontext</a>* );
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="a00404.html#a20c07dbcc7db8c8c6186e9c3d5b22b14">sc_allow_process_control_corners</a>; <span class="comment">// see sc_simcontext.cpp.</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">// Process handles as forward references:</span>
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="a00404.html#a12cf2d7e3f6fa06b86b6a787eecdeb67">00061</a> <span class="keyword">typedef</span> <span class="keyword">class </span><a class="code" href="a00045.html">sc_cthread_process</a>* <a class="code" href="a00404.html#a12cf2d7e3f6fa06b86b6a787eecdeb67">sc_cthread_handle</a>;
<a name="l00062"></a><a class="code" href="a00404.html#a241f0ad0f913c222aa11123bdc0ec330">00062</a> <span class="keyword">typedef</span> <span class="keyword">class </span><a class="code" href="a00123.html">sc_method_process</a>*  <a class="code" href="a00404.html#a241f0ad0f913c222aa11123bdc0ec330">sc_method_handle</a>;
<a name="l00063"></a><a class="code" href="a00404.html#a624b4003393c71616779c6342b40c076">00063</a> <span class="keyword">typedef</span> <span class="keyword">class </span><a class="code" href="a00211.html">sc_thread_process</a>*  <a class="code" href="a00404.html#a624b4003393c71616779c6342b40c076">sc_thread_handle</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="comment">// Standard process types:</span>
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045">00068</a> <span class="keyword">enum</span> <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045">sc_curr_proc_kind</a>
<a name="l00069"></a>00069 {
<a name="l00070"></a><a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a3da47e1b40676e185c64e09ca47f2b26">00070</a>     <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a3da47e1b40676e185c64e09ca47f2b26">SC_NO_PROC_</a>,
<a name="l00071"></a><a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045ac8e76cc55a0ad8061121cd1e78f947c5">00071</a>     <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045ac8e76cc55a0ad8061121cd1e78f947c5">SC_METHOD_PROC_</a>,
<a name="l00072"></a><a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a65c7898e756af3c6eb086fe2a2d14abf">00072</a>     <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a65c7898e756af3c6eb086fe2a2d14abf">SC_THREAD_PROC_</a>,
<a name="l00073"></a><a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a8a9b185b1d0a071b20355f9593e86ceb">00073</a>     <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a8a9b185b1d0a071b20355f9593e86ceb">SC_CTHREAD_PROC_</a>
<a name="l00074"></a>00074 };
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">// Descendant information for process hierarchy operations:</span>
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">00078</a> <span class="keyword">enum</span> <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> {
<a name="l00079"></a><a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">00079</a>     <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a>=0,
<a name="l00080"></a><a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298af29b3ba60742a626758f93eaabb1d895">00080</a>     <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298af29b3ba60742a626758f93eaabb1d895">SC_INCLUDE_DESCENDANTS</a>,
<a name="l00081"></a><a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298afc70e35380bb92b642ccb41a406d9d45">00081</a>     <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298afc70e35380bb92b642ccb41a406d9d45">SC_INVALID_DESCENDANTS</a>
<a name="l00082"></a>00082 };
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="comment">//==============================================================================</span>
<a name="l00086"></a>00086 <span class="comment">// CLASS sc_process_host</span>
<a name="l00087"></a>00087 <span class="comment">//</span>
<a name="l00088"></a>00088 <span class="comment">// This is the base class for objects which may have processes defined for</span>
<a name="l00089"></a>00089 <span class="comment">// their methods (e.g., sc_module)</span>
<a name="l00090"></a>00090 <span class="comment">//==============================================================================</span>
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="a00160.html">00092</a> <span class="keyword">class </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00160.html">sc_process_host</a>
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094   <span class="keyword">public</span>:
<a name="l00095"></a><a class="code" href="a00160.html#ac5e639b1c7069ba45b190c361c832cbc">00095</a>     <a class="code" href="a00160.html#ac5e639b1c7069ba45b190c361c832cbc">sc_process_host</a>() {}
<a name="l00096"></a><a class="code" href="a00160.html#aa314af2f955cf8c79b4d56eef65714bf">00096</a>     <span class="keyword">virtual</span> <a class="code" href="a00160.html#aa314af2f955cf8c79b4d56eef65714bf">~sc_process_host</a>() { } <span class="comment">// Needed for cast check for sc_module.</span>
<a name="l00097"></a><a class="code" href="a00160.html#acf24d38ae99fdf5fed561e8fb8301111">00097</a>     <span class="keywordtype">void</span> <a class="code" href="a00160.html#acf24d38ae99fdf5fed561e8fb8301111">defunct</a>() {}
<a name="l00098"></a>00098 };
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">//==============================================================================</span>
<a name="l00102"></a>00102 <span class="comment">// CLASS sc_process_monitor</span>
<a name="l00103"></a>00103 <span class="comment">//</span>
<a name="l00104"></a>00104 <span class="comment">// This class provides a way of monitoring a process&apos; status (e.g., waiting</span>
<a name="l00105"></a>00105 <span class="comment">// for a thread to complete its execution.) This class is intended to be a base</span>
<a name="l00106"></a>00106 <span class="comment">// class for classes which need to monitor a process or processes (e.g.,</span>
<a name="l00107"></a>00107 <span class="comment">// sc_join.) Its methods should be overloaded where notifications are desired.</span>
<a name="l00108"></a>00108 <span class="comment">//==============================================================================</span>
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="a00161.html">00110</a> <span class="keyword">class </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00161.html">sc_process_monitor</a> {
<a name="l00111"></a>00111   <span class="keyword">public</span>:
<a name="l00112"></a>00112     <span class="keyword">enum</span> {
<a name="l00113"></a><a class="code" href="a00161.html#a24408d943e4ca2ee7c1ec29962298356a302665cd4a823e3f8b6c702fb29466b5">00113</a>         spm_exit = 0
<a name="l00114"></a>00114     };
<a name="l00115"></a><a class="code" href="a00161.html#ac807fb723845344ad8bab1db426d2e5a">00115</a>     <span class="keyword">virtual</span> <a class="code" href="a00161.html#ac807fb723845344ad8bab1db426d2e5a">~sc_process_monitor</a>() {}
<a name="l00116"></a>00116     <span class="keyword">virtual</span> <span class="keywordtype">void</span> signal(<a class="code" href="a00404.html#a624b4003393c71616779c6342b40c076">sc_thread_handle</a> thread_p, <span class="keywordtype">int</span> type);
<a name="l00117"></a>00117 };
<a name="l00118"></a><a class="code" href="a00161.html#a0e298ea807c0d1ed5d0f14941d58cec8">00118</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00161.html#a0e298ea807c0d1ed5d0f14941d58cec8">sc_process_monitor::signal</a>(<a class="code" href="a00404.html#a624b4003393c71616779c6342b40c076">sc_thread_handle</a> , <span class="keywordtype">int</span> ) {}
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00121"></a>00121 <span class="comment">// PROCESS INVOCATION METHOD OR FUNCTION:</span>
<a name="l00122"></a>00122 <span class="comment">//</span>
<a name="l00123"></a>00123 <span class="comment">//  Define SC_USE_MEMBER_FUNC_PTR if we want to use member function pointers</span>
<a name="l00124"></a>00124 <span class="comment">//  to implement process dispatch. Otherwise, we&apos;ll use a hack that involves</span>
<a name="l00125"></a>00125 <span class="comment">//  creating a templated invocation object which will invoke the member</span>
<a name="l00126"></a>00126 <span class="comment">//  function. This should not be necessary, but some compilers (e.g., VC++)</span>
<a name="l00127"></a>00127 <span class="comment">//  do not allow the conversion from `void (callback_tag::*)()&apos; to</span>
<a name="l00128"></a>00128 <span class="comment">//  `void (sc_process_host::*)()&apos;. This is supposed to be OK as long as the</span>
<a name="l00129"></a>00129 <span class="comment">//  dynamic type is correct.  C++ Standard 5.4 &quot;Explicit type conversion&quot;,</span>
<a name="l00130"></a>00130 <span class="comment">//  clause 7: a pointer to member of derived class type may be explicitly</span>
<a name="l00131"></a>00131 <span class="comment">//  converted to a pointer to member of an unambiguous non-virtual base class</span>
<a name="l00132"></a>00132 <span class="comment">//  type.</span>
<a name="l00133"></a>00133 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#if ( _MSC_VER &gt; 1200 )</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#   define SC_USE_MEMBER_FUNC_PTR</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00140"></a><a class="code" href="a00366.html#a3ec2c3fbb7cd8f5b4ff497b9dfbd0451">00140</a> <span class="preprocessor"></span><span class="preprocessor">#   define SC_USE_MEMBER_FUNC_PTR</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="comment">// COMPILER DOES SUPPORT CAST TO void (sc_process_host::*)() from (T::*)():</span>
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="preprocessor">#if defined(SC_USE_MEMBER_FUNC_PTR)</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span>
<a name="l00148"></a><a class="code" href="a00404.html#aa2d527707e5ea738c2051baf01ae500e">00148</a>     <span class="keyword">typedef</span> void (<a class="code" href="a00160.html">sc_process_host</a>::*<a class="code" href="a00404.html#aa2d527707e5ea738c2051baf01ae500e">SC_ENTRY_FUNC</a>)();
<a name="l00149"></a><a class="code" href="a00366.html#ac71456eed513159ded63fbfa40439b13">00149</a> <span class="preprocessor">#   define SC_DECL_HELPER_STRUCT(callback_tag, func) </span><span class="comment">/*EMPTY*/</span>
<a name="l00150"></a><a class="code" href="a00366.html#a580e4861b4550717077ee2267c2097ca">00150</a> <span class="preprocessor">#   define SC_MAKE_FUNC_PTR(callback_tag, func) \</span>
<a name="l00151"></a>00151 <span class="preprocessor">        static_cast&lt;sc_core::SC_ENTRY_FUNC&gt;(&amp;callback_tag::func)</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">// COMPILER NOT DOES SUPPORT CAST TO void (sc_process_host::*)() from (T::*)():</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="preprocessor">#else // !defined(SC_USE_MEMBER_FUNC_PTR)</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span>    <span class="keyword">class </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> sc_process_call_base {
<a name="l00158"></a>00158       <span class="keyword">public</span>:
<a name="l00159"></a>00159         <span class="keyword">inline</span> sc_process_call_base()
<a name="l00160"></a>00160         {
<a name="l00161"></a>00161         }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="keyword">virtual</span> ~sc_process_call_base()
<a name="l00164"></a>00164         {
<a name="l00165"></a>00165         }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167         <span class="keyword">virtual</span> <span class="keywordtype">void</span> invoke(sc_process_host* host_p)
<a name="l00168"></a>00168         {
<a name="l00169"></a>00169         }
<a name="l00170"></a>00170     };
<a name="l00171"></a>00171     <span class="keyword">extern</span> sc_process_call_base sc_process_defunct;
<a name="l00172"></a>00172 
<a name="l00173"></a>00173     <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00174"></a>00174     <span class="keyword">class </span>sc_process_call : <span class="keyword">public</span> sc_process_call_base {
<a name="l00175"></a>00175       <span class="keyword">public</span>:
<a name="l00176"></a>00176         sc_process_call( <span class="keywordtype">void</span> (T::*method_p)() ) :
<a name="l00177"></a>00177             sc_process_call_base()
<a name="l00178"></a>00178         {
<a name="l00179"></a>00179              m_method_p = method_p;
<a name="l00180"></a>00180         }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <span class="keyword">virtual</span> ~sc_process_call()
<a name="l00183"></a>00183         {
<a name="l00184"></a>00184         }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186         <span class="keyword">virtual</span> <span class="keywordtype">void</span> invoke(sc_process_host* host_p)
<a name="l00187"></a>00187         {
<a name="l00188"></a>00188             (((T*)host_p)-&gt;*m_method_p)();
<a name="l00189"></a>00189         }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191       <span class="keyword">protected</span>:
<a name="l00192"></a>00192         void (T::*m_method_p)();  <span class="comment">// Method implementing the process.</span>
<a name="l00193"></a>00193     };
<a name="l00194"></a>00194 
<a name="l00195"></a>00195     <span class="keyword">typedef</span> sc_process_call_base* <a class="code" href="a00404.html#aa2d527707e5ea738c2051baf01ae500e">SC_ENTRY_FUNC</a>;
<a name="l00196"></a>00196 <span class="preprocessor">#   define SC_DECL_HELPER_STRUCT(callback_tag, func) </span><span class="comment">/*EMPTY*/</span>
<a name="l00197"></a>00197 <span class="preprocessor">#   define SC_MAKE_FUNC_PTR(callback_tag, func) \</span>
<a name="l00198"></a>00198 <span class="preprocessor">        (::sc_core::SC_ENTRY_FUNC) (new \</span>
<a name="l00199"></a>00199 <span class="preprocessor">        ::sc_core::sc_process_call&lt;callback_tag&gt;(&amp;callback_tag::func))</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>
<a name="l00201"></a>00201 <span class="preprocessor">#endif // !defined(SC_USE_MEMBER_FUNC_PTR)</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="keyword">extern</span> <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keywordtype">void</span> <a class="code" href="a00404.html#a257dffa69682b5723df9db69db5e25a0">sc_set_stack_size</a>( <a class="code" href="a00404.html#a624b4003393c71616779c6342b40c076">sc_thread_handle</a>, std::size_t );
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 <span class="keyword">class </span><a class="code" href="a00404.html#a3340deedb93937b2bd9e26fa19e0dab9">sc_event</a>;
<a name="l00207"></a>00207 <span class="keyword">class </span>sc_event_list;
<a name="l00208"></a>00208 <span class="keyword">class </span>sc_name_gen;
<a name="l00209"></a>00209 <span class="keyword">class </span>sc_spawn_options;
<a name="l00210"></a>00210 <span class="keyword">class </span>sc_unwind_exception;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">//==============================================================================</span>
<a name="l00213"></a>00213 <span class="comment">// CLASS sc_throw_it&lt;EXCEPT&gt; - ARBITRARY EXCEPTION CLASS</span>
<a name="l00214"></a>00214 <span class="comment">//</span>
<a name="l00215"></a>00215 <span class="comment">// This class serves as a way of throwing an execption for an aribtrary type</span>
<a name="l00216"></a>00216 <span class="comment">// without knowing what that type is. A true virtual method in the base</span>
<a name="l00217"></a>00217 <span class="comment">// class is used to actually throw the execption. A pointer to the base</span>
<a name="l00218"></a>00218 <span class="comment">// class is used internally removing the necessity of knowing what the type</span>
<a name="l00219"></a>00219 <span class="comment">// of EXCEPT is for code internal to the library.</span>
<a name="l00220"></a>00220 <span class="comment">//</span>
<a name="l00221"></a>00221 <span class="comment">// Note the clone() true virtual method. This is used to allow instances</span>
<a name="l00222"></a>00222 <span class="comment">// of the sc_throw_it&lt;EXCEPT&gt; class to be easily garbage collected. Since</span>
<a name="l00223"></a>00223 <span class="comment">// an exception may be propogated to more than one process knowing when</span>
<a name="l00224"></a>00224 <span class="comment">// to garbage collect is non-trivial. So when a call is made to</span>
<a name="l00225"></a>00225 <span class="comment">// sc_process_handle::throw_it() an instance of sc_throw_it&lt;EXCEPT&gt; is</span>
<a name="l00226"></a>00226 <span class="comment">// allocated on the stack. For each process throwing the exception a copy is</span>
<a name="l00227"></a>00227 <span class="comment">// made via clone(). That allows those objects to be deleted by the individual</span>
<a name="l00228"></a>00228 <span class="comment">// processes when they are no longer needed (in this implementation of SystemC</span>
<a name="l00229"></a>00229 <span class="comment">// that deletion will occur each time a new exception is thrown ( see</span>
<a name="l00230"></a>00230 <span class="comment">// sc_thread_process::suspend_me() ).</span>
<a name="l00231"></a>00231 <span class="comment">//==============================================================================</span>
<a name="l00232"></a><a class="code" href="a00213.html">00232</a> <span class="keyword">class </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00213.html">sc_throw_it_helper</a> {
<a name="l00233"></a>00233   <span class="keyword">public</span>:
<a name="l00234"></a>00234     <span class="keyword">virtual</span> <a class="code" href="a00213.html">sc_throw_it_helper</a>* clone() <span class="keyword">const</span> = 0;
<a name="l00235"></a>00235     <span class="keyword">virtual</span> <span class="keywordtype">void</span> throw_it() = 0;
<a name="l00236"></a><a class="code" href="a00213.html#a252439c245847f0f98f71dcf229ee214">00236</a>     <a class="code" href="a00213.html#a252439c245847f0f98f71dcf229ee214">sc_throw_it_helper</a>() {}
<a name="l00237"></a><a class="code" href="a00213.html#ae44db7071822f211c112c868ac0ec234">00237</a>     <span class="keyword">virtual</span> <a class="code" href="a00213.html#ae44db7071822f211c112c868ac0ec234">~sc_throw_it_helper</a>() {}
<a name="l00238"></a>00238 };
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> EXCEPT&gt;
<a name="l00241"></a><a class="code" href="a00212.html">00241</a> <span class="keyword">class </span><a class="code" href="a00212.html">sc_throw_it</a> : <span class="keyword">public</span> <a class="code" href="a00213.html">sc_throw_it_helper</a>
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243     <span class="keyword">typedef</span> <a class="code" href="a00212.html">sc_throw_it&lt;EXCEPT&gt;</a> <a class="code" href="a00212.html">this_type</a>;
<a name="l00244"></a>00244   <span class="keyword">public</span>:
<a name="l00245"></a><a class="code" href="a00212.html#a16de4786758777139130bab8f7d86fbf">00245</a>     <a class="code" href="a00212.html#a16de4786758777139130bab8f7d86fbf">sc_throw_it</a>( <span class="keyword">const</span> EXCEPT&amp; <a class="code" href="a00272.html#a8ee29bf4d5892db299bc4ed81d3ace7f">value</a> ) : <a class="code" href="a00212.html#a878ba990cb918f778c71b50c020e137c">m_value</a>(value) { }
<a name="l00246"></a><a class="code" href="a00212.html#ae45daeebf005e7a55e17f2fe852ab6fc">00246</a>     <span class="keyword">virtual</span> <a class="code" href="a00212.html#ae45daeebf005e7a55e17f2fe852ab6fc">~sc_throw_it</a>() {}
<a name="l00247"></a><a class="code" href="a00212.html#aca86190fd06cc401e7aa649616863ea7">00247</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <a class="code" href="a00212.html">this_type</a>* <a class="code" href="a00212.html#aca86190fd06cc401e7aa649616863ea7">clone</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00212.html">this_type</a>(<a class="code" href="a00212.html#a878ba990cb918f778c71b50c020e137c">m_value</a>); }
<a name="l00248"></a><a class="code" href="a00212.html#a6381e0b5453fb96e5c9a785973e71d06">00248</a>     <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00212.html#a6381e0b5453fb96e5c9a785973e71d06">throw_it</a>() { <span class="keywordflow">throw</span> <a class="code" href="a00212.html#a878ba990cb918f778c71b50c020e137c">m_value</a>; }
<a name="l00249"></a>00249   <span class="keyword">protected</span>:
<a name="l00250"></a><a class="code" href="a00212.html#a878ba990cb918f778c71b50c020e137c">00250</a>     EXCEPT <a class="code" href="a00212.html#a878ba990cb918f778c71b50c020e137c">m_value</a>;  <span class="comment">// value to be thrown.</span>
<a name="l00251"></a>00251 };
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">//==============================================================================</span>
<a name="l00254"></a>00254 <span class="comment">// CLASS sc_process_b - USER INITIATED DYNAMIC PROCESS SUPPORT:</span>
<a name="l00255"></a>00255 <span class="comment">//</span>
<a name="l00256"></a>00256 <span class="comment">// This class implements the base class for a threaded process_base process</span>
<a name="l00257"></a>00257 <span class="comment">// whose semantics are provided by the true virtual method semantics().</span>
<a name="l00258"></a>00258 <span class="comment">// Classes derived from this one will provide a version of semantics which</span>
<a name="l00259"></a>00259 <span class="comment">// implements the desired semantics. See the sc_spawn_xxx classes below.</span>
<a name="l00260"></a>00260 <span class="comment">//</span>
<a name="l00261"></a>00261 <span class="comment">// Notes:</span>
<a name="l00262"></a>00262 <span class="comment">//   (1) Object instances of this class maintain a reference count of</span>
<a name="l00263"></a>00263 <span class="comment">//       outstanding handles. When the handle count goes to zero the</span>
<a name="l00264"></a>00264 <span class="comment">//       object will be deleted.</span>
<a name="l00265"></a>00265 <span class="comment">//   (2) Descriptions of the methods and operators in this class appear with</span>
<a name="l00266"></a>00266 <span class="comment">//       their implementations.</span>
<a name="l00267"></a>00267 <span class="comment">//   (3) The m_sticky_reset field is used to handle synchronous resets that</span>
<a name="l00268"></a>00268 <span class="comment">//       are enabled via the sc_process_handle::sync_reset_on() method. These</span>
<a name="l00269"></a>00269 <span class="comment">//       resets are not generated by a signal, but rather are modal by</span>
<a name="l00270"></a>00270 <span class="comment">//       method call: sync_reset_on - sync_reset_off.</span>
<a name="l00271"></a>00271 <span class="comment">//</span>
<a name="l00272"></a>00272 <span class="comment">//==============================================================================</span>
<a name="l00273"></a><a class="code" href="a00158.html">00273</a> <span class="keyword">class </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00158.html">sc_process_b</a> : <span class="keyword">public</span> <a class="code" href="a00134.html">sc_object</a> {
<a name="l00274"></a><a class="code" href="a00158.html#a8a833de7b9d6933c5c9b296583c4c835">00274</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00202.html">sc_simcontext</a>;      <span class="comment">// Allow static processes to have base.</span>
<a name="l00275"></a><a class="code" href="a00158.html#af2c9e96bc0fe4f99c3fdbf18a3965fda">00275</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00045.html">sc_cthread_process</a>; <span class="comment">// Child can access parent.</span>
<a name="l00276"></a><a class="code" href="a00158.html#acc919bce635598675ac34601d8fefbf7">00276</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00123.html">sc_method_process</a>;  <span class="comment">// Child can access parent.</span>
<a name="l00277"></a><a class="code" href="a00158.html#a4a61fb98d9d86beda7cf6016f55d01ba">00277</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00159.html">sc_process_handle</a>;  <span class="comment">// Allow handles to modify ref. count.</span>
<a name="l00278"></a><a class="code" href="a00158.html#a12ba92f261d993145709693ea4466b47">00278</a>     <span class="keyword">friend</span> <span class="keyword">class </span>sc_process_table;   <span class="comment">// Allow process_table to modify ref. count.</span>
<a name="l00279"></a><a class="code" href="a00158.html#ac96f23e2e92c5f037cba0971b62ebcff">00279</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00211.html">sc_thread_process</a>;  <span class="comment">// Child can access parent.</span>
<a name="l00280"></a>00280 
<a name="l00281"></a><a class="code" href="a00158.html#a13f565eb1938ead239f8b6a0927057b0">00281</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00048.html">sc_event</a>;
<a name="l00282"></a><a class="code" href="a00158.html#abe316699185dd3108ba952d356e513e5">00282</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00134.html">sc_object</a>;
<a name="l00283"></a><a class="code" href="a00158.html#ac16572a975a3185797ffbd9f318470fd">00283</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00152.html">sc_port_base</a>;
<a name="l00284"></a><a class="code" href="a00158.html#a7daf768cb0d25e9950151ec7079decbe">00284</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00178.html">sc_runnable</a>;
<a name="l00285"></a><a class="code" href="a00158.html#ad3d4027e6ef16484903fcd92f865519d">00285</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00182.html">sc_sensitive</a>;
<a name="l00286"></a><a class="code" href="a00158.html#a83751c37d469e63b83c9a1e209b7319b">00286</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00184.html">sc_sensitive_pos</a>;
<a name="l00287"></a><a class="code" href="a00158.html#a98963a9ab02b155f3cb5061dcdbbb1b5">00287</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00183.html">sc_sensitive_neg</a>;
<a name="l00288"></a><a class="code" href="a00158.html#a460de50921ea4456ecaf395eb8594974">00288</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00126.html">sc_module</a>;
<a name="l00289"></a><a class="code" href="a00158.html#aaba7034cfa93e6c1a3e2f1e9e57f9b47">00289</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00174.html">sc_report_handler</a>;
<a name="l00290"></a><a class="code" href="a00158.html#a459c3ab69abfc8912c9261f7dc0719dd">00290</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00175.html">sc_reset</a>;
<a name="l00291"></a><a class="code" href="a00158.html#af692216008e752352d2831cd7c62e7f6">00291</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00176.html">sc_reset_finder</a>;
<a name="l00292"></a><a class="code" href="a00158.html#aa82b5a44736cfa6eae577e422fe1da51">00292</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00236.html">sc_unwind_exception</a>;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="keyword">friend</span> <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00404.html#a378479e6d63d99df82cd55b6b8ee7aa8">sc_gen_unique_name</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>*, <span class="keywordtype">bool</span> preserve_first );
<a name="l00295"></a>00295     <span class="keyword">friend</span> <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00159.html">sc_process_handle</a> <a class="code" href="a00404.html#a9ecafc84e894dcf005776dc4e4ba6cdf">sc_get_current_process_handle</a>();
<a name="l00296"></a>00296     <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code" href="a00404.html#aabd066bb337994094ef03529230382f5">sc_thread_cor_fn</a>( <span class="keywordtype">void</span>* arg );
<a name="l00297"></a>00297     <span class="keyword">friend</span> <a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <span class="keywordtype">bool</span> <a class="code" href="a00404.html#a03fee28edc2913a881713c746de992bc">timed_out</a>( <a class="code" href="a00202.html">sc_simcontext</a>* );
<a name="l00298"></a>00298 
<a name="l00299"></a>00299   <span class="keyword">public</span>:
<a name="l00300"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784">00300</a>     <span class="keyword">enum</span> <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784">process_throw_type</a> {
<a name="l00301"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a24a72304587d661b4324884a702e56c8">00301</a>         THROW_NONE = 0,
<a name="l00302"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a288ddd2ebc117b8e3efa8f499e018bce">00302</a>         THROW_KILL,
<a name="l00303"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a209bb27e361a60f551c3f557b111efa8">00303</a>         THROW_USER,
<a name="l00304"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a97b12fe9ed7373e18fa66ffd1ec9f988">00304</a>         THROW_ASYNC_RESET,
<a name="l00305"></a><a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a9b3ad2c20e1c611bfe214298f7b0dfbd">00305</a>         THROW_SYNC_RESET
<a name="l00306"></a>00306     };
<a name="l00307"></a>00307 
<a name="l00308"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443">00308</a>     <span class="keyword">enum</span> <a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443">process_state</a> {
<a name="l00309"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a88e7de4bbbf33d9ae67354e37cee18b6">00309</a>         ps_bit_disabled = 1,      <span class="comment">// process is disabled.</span>
<a name="l00310"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a75f72f390a3b933df53f86db821ef0c5">00310</a>         ps_bit_ready_to_run = 2,  <span class="comment">// process is ready to run.</span>
<a name="l00311"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a2f163c7d80598bf4bbf2a9977dfbfae3">00311</a>         ps_bit_suspended = 4,     <span class="comment">// process is suspended.</span>
<a name="l00312"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a60229a842a99b0f2f7d9fab83b3970d1">00312</a>         ps_bit_zombie = 8,        <span class="comment">// process is a zombie.</span>
<a name="l00313"></a><a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443ad84a00d0fe477e398bab774b271020e3">00313</a>         ps_normal = 0             <span class="comment">// must be zero.</span>
<a name="l00314"></a>00314     };
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="a00158.html#aa3a79eb27dadbc8055524c8b73b1b051">00316</a>     <span class="keyword">enum</span> <a class="code" href="a00158.html#aa3a79eb27dadbc8055524c8b73b1b051">reset_type</a> {             <span class="comment">// types for sc_process_b::reset_process()</span>
<a name="l00317"></a><a class="code" href="a00158.html#aa3a79eb27dadbc8055524c8b73b1b051acf19c7930f6a21b901212fd682cd7ab7">00317</a>         reset_asynchronous = 0,   <span class="comment">// asynchronous reset.</span>
<a name="l00318"></a><a class="code" href="a00158.html#aa3a79eb27dadbc8055524c8b73b1b051a55516b1601564ba08fe50a9d951e12e2">00318</a>         reset_synchronous_off,    <span class="comment">// turn off synchronous reset sticky bit.</span>
<a name="l00319"></a><a class="code" href="a00158.html#aa3a79eb27dadbc8055524c8b73b1b051a26d9c9e8590b76f26a91b642a1aff629">00319</a>         reset_synchronous_on      <span class="comment">// turn on synchronous reset sticky bit.</span>
<a name="l00320"></a>00320     };
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94">00322</a>     <span class="keyword">enum</span> <a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94">trigger_t</a>
<a name="l00323"></a>00323     {
<a name="l00324"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a6bbcc4d4c50193b508e8e81659d3afd6">00324</a>         STATIC,
<a name="l00325"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a39f7f9f3dc00e458831624140be5d8b1">00325</a>         EVENT,
<a name="l00326"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94ae404ac4285d683c40788def820a0821d">00326</a>         OR_LIST,
<a name="l00327"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a2f3564efd6df3306ff53c71913f20b04">00327</a>         AND_LIST,
<a name="l00328"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94adc22a2642d2d0f5812012a8cc92d8880">00328</a>         TIMEOUT,
<a name="l00329"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a72d68be29f9bbc26877861cde8d2717b">00329</a>         EVENT_TIMEOUT,
<a name="l00330"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a76edaf79319541b19bae3d6132cd31c4">00330</a>         OR_LIST_TIMEOUT,
<a name="l00331"></a><a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94a2f6c6abccadfc5bda6b9ba0f3b00dc4f">00331</a>         AND_LIST_TIMEOUT
<a name="l00332"></a>00332     };
<a name="l00333"></a>00333 
<a name="l00334"></a>00334   <span class="keyword">protected</span>:
<a name="l00335"></a><a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3c">00335</a>     <span class="keyword">enum</span> <a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3c">spawn_t</a> {
<a name="l00336"></a><a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3ca73aa4e07d44b5646d12abc42f85816cc">00336</a>       SPAWN_ELAB  = 0x0, <span class="comment">// spawned during elaboration      (static process)</span>
<a name="l00337"></a><a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3caa00663aea0d393d9b2d8dff1f5473f84">00337</a>       SPAWN_START = 0x1, <span class="comment">// spawned during simulation start (dynamic process)</span>
<a name="l00338"></a><a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3ca6df4da73d5e041b540b756b92bfcafd3">00338</a>       SPAWN_SIM   = 0x2  <span class="comment">// spawned during simulation       (dynamic process)</span>
<a name="l00339"></a>00339     };
<a name="l00340"></a>00340 
<a name="l00341"></a>00341   <span class="keyword">public</span>:
<a name="l00342"></a>00342     <a class="code" href="a00404.html#a85f3e5fe082e73bd7888c38a70072779">sc_process_b</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name_p, <span class="keywordtype">bool</span> is_thread, <span class="keywordtype">bool</span> free_host,
<a name="l00343"></a>00343         <a class="code" href="a00404.html#aa2d527707e5ea738c2051baf01ae500e">SC_ENTRY_FUNC</a> method_p, <a class="code" href="a00160.html">sc_process_host</a>* host_p,
<a name="l00344"></a>00344         <span class="keyword">const</span> <a class="code" href="a00205.html">sc_spawn_options</a>* opt_p );
<a name="l00345"></a>00345 
<a name="l00346"></a>00346   <span class="keyword">protected</span>:
<a name="l00347"></a>00347     <span class="comment">// may not be deleted manually (called from destroy_process())</span>
<a name="l00348"></a>00348     <span class="keyword">virtual</span> ~<a class="code" href="a00158.html">sc_process_b</a>();
<a name="l00349"></a>00349 
<a name="l00350"></a>00350   <span class="keyword">public</span>:
<a name="l00351"></a><a class="code" href="a00158.html#a48098896b8b1c430ff9024d00bfd436b">00351</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="a00158.html#a48098896b8b1c430ff9024d00bfd436b">current_state</a>() { <span class="keywordflow">return</span> m_state; }
<a name="l00352"></a><a class="code" href="a00158.html#a8d9eff6973b8cba850b58601d1cd79f8">00352</a>     <span class="keywordtype">bool</span> <a class="code" href="a00158.html#a8d9eff6973b8cba850b58601d1cd79f8">dont_initialize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_dont_init; }
<a name="l00353"></a>00353     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a00355.html#a93138f44939ba3c2e707000933719e98">dont_initialize</a>( <span class="keywordtype">bool</span> dont );
<a name="l00354"></a>00354     std::string dump_state() <span class="keyword">const</span>;
<a name="l00355"></a>00355     const ::std::vector&lt;sc_object*&gt;&amp; get_child_objects() <span class="keyword">const</span>;
<a name="l00356"></a>00356     <span class="keyword">inline</span> <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045">sc_curr_proc_kind</a> proc_kind() <span class="keyword">const</span>;
<a name="l00357"></a>00357     <a class="code" href="a00048.html">sc_event</a>&amp; reset_event();
<a name="l00358"></a>00358     <a class="code" href="a00048.html">sc_event</a>&amp; terminated_event();
<a name="l00359"></a>00359 
<a name="l00360"></a>00360   <span class="keyword">public</span>:
<a name="l00361"></a>00361     <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="a00159.html">sc_process_handle</a> last_created_process_handle();
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <span class="keyword">protected</span>:
<a name="l00364"></a>00364     <span class="keyword">virtual</span> <span class="keywordtype">void</span> add_child_object( <a class="code" href="a00134.html">sc_object</a>* );
<a name="l00365"></a>00365     <span class="keywordtype">void</span> add_static_event( <span class="keyword">const</span> <a class="code" href="a00048.html">sc_event</a>&amp; );
<a name="l00366"></a><a class="code" href="a00158.html#aedbbfe6f235bb667849cce99d8429024">00366</a>     <span class="keywordtype">bool</span> <a class="code" href="a00158.html#aedbbfe6f235bb667849cce99d8429024">dynamic</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_dynamic_proc != SPAWN_ELAB; }
<a name="l00367"></a>00367     <span class="keyword">const</span> <span class="keywordtype">char</span>* gen_unique_name( <span class="keyword">const</span> <span class="keywordtype">char</span>* basename_, <span class="keywordtype">bool</span> preserve_first );
<a name="l00368"></a><a class="code" href="a00158.html#a8040af5941a3ddb19dab5c490c30d967">00368</a>     <span class="keyword">inline</span> <a class="code" href="a00173.html">sc_report</a>* <a class="code" href="a00158.html#a8040af5941a3ddb19dab5c490c30d967">get_last_report</a>() { <span class="keywordflow">return</span> m_last_report_p; }
<a name="l00369"></a>00369     <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_disabled() <span class="keyword">const</span>;
<a name="l00370"></a>00370     <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_runnable() <span class="keyword">const</span>;
<a name="l00371"></a>00371     <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="a00158.html">sc_process_b</a>* last_created_process_base();
<a name="l00372"></a>00372     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> remove_child_object( <a class="code" href="a00134.html">sc_object</a>* );
<a name="l00373"></a>00373     <span class="keywordtype">void</span> remove_dynamic_events( <span class="keywordtype">bool</span> skip_timeout = <span class="keyword">false</span> );
<a name="l00374"></a>00374     <span class="keywordtype">void</span> remove_static_events();
<a name="l00375"></a><a class="code" href="a00158.html#ad7004d9c622d35af3dc6107abe42c681">00375</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> set_last_report( <a class="code" href="a00173.html">sc_report</a>* last_p )
<a name="l00376"></a>00376         {
<a name="l00377"></a>00377             <span class="keyword">delete</span> m_last_report_p;
<a name="l00378"></a>00378             m_last_report_p = last_p;
<a name="l00379"></a>00379         }
<a name="l00380"></a>00380     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00404.html#a03fee28edc2913a881713c746de992bc">timed_out</a>() <span class="keyword">const</span>;
<a name="l00381"></a>00381     <span class="keywordtype">void</span> report_error( <span class="keyword">const</span> <span class="keywordtype">char</span>* msgid, <span class="keyword">const</span> <span class="keywordtype">char</span>* msg = <span class="stringliteral">&quot;&quot;</span> ) <span class="keyword">const</span>;
<a name="l00382"></a>00382     <span class="keywordtype">void</span> report_immediate_self_notification() <span class="keyword">const</span>;
<a name="l00383"></a>00383 
<a name="l00384"></a>00384   <span class="keyword">protected</span>: <span class="comment">// process control methods:</span>
<a name="l00385"></a>00385     <span class="keyword">virtual</span> <span class="keywordtype">void</span> disable_process(
<a name="l00386"></a>00386         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00387"></a>00387     <span class="keywordtype">void</span> disconnect_process();
<a name="l00388"></a>00388     <span class="keyword">virtual</span> <span class="keywordtype">void</span> enable_process(
<a name="l00389"></a>00389         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00390"></a>00390     <span class="keyword">inline</span> <span class="keywordtype">void</span> initially_in_reset( <span class="keywordtype">bool</span> async );
<a name="l00391"></a>00391     <span class="keyword">inline</span> <span class="keywordtype">bool</span> is_unwinding() <span class="keyword">const</span>;
<a name="l00392"></a>00392     <span class="keyword">inline</span> <span class="keywordtype">bool</span> start_unwinding();
<a name="l00393"></a>00393     <span class="keyword">inline</span> <span class="keywordtype">bool</span> clear_unwinding();
<a name="l00394"></a>00394     <span class="keyword">virtual</span> <span class="keywordtype">void</span> kill_process(
<a name="l00395"></a>00395         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00396"></a>00396     <span class="keywordtype">void</span> reset_changed( <span class="keywordtype">bool</span> async, <span class="keywordtype">bool</span> asserted );
<a name="l00397"></a>00397     <span class="keywordtype">void</span> reset_process( reset_type rt,
<a name="l00398"></a>00398         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> );
<a name="l00399"></a>00399     <span class="keyword">virtual</span> <span class="keywordtype">void</span> resume_process(
<a name="l00400"></a>00400         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00401"></a>00401     <span class="keyword">virtual</span> <span class="keywordtype">void</span> suspend_process(
<a name="l00402"></a>00402         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00403"></a>00403     <span class="keyword">virtual</span> <span class="keywordtype">void</span> throw_user( <span class="keyword">const</span> <a class="code" href="a00213.html">sc_throw_it_helper</a>&amp; helper,
<a name="l00404"></a>00404         <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298">sc_descendant_inclusion_info</a> descendants = <a class="code" href="a00404.html#af299d964d600dfca2e37224a6cb83298aaf9243a80d08aa59c1ee5689a99747af">SC_NO_DESCENDANTS</a> ) = 0;
<a name="l00405"></a>00405     <span class="keyword">virtual</span> <span class="keywordtype">void</span> throw_reset( <span class="keywordtype">bool</span> async ) = 0;
<a name="l00406"></a>00406     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> terminated() <span class="keyword">const</span>;
<a name="l00407"></a>00407     <span class="keywordtype">void</span> trigger_reset_event();
<a name="l00408"></a>00408 
<a name="l00409"></a>00409   <span class="keyword">private</span>:
<a name="l00410"></a>00410     <span class="keywordtype">void</span>        delete_process();
<a name="l00411"></a>00411     <span class="keyword">inline</span> <span class="keywordtype">void</span> reference_decrement();
<a name="l00412"></a>00412     <span class="keyword">inline</span> <span class="keywordtype">void</span> reference_increment();
<a name="l00413"></a>00413 
<a name="l00414"></a>00414   <span class="keyword">protected</span>:
<a name="l00415"></a>00415     <span class="keyword">inline</span> <span class="keywordtype">void</span> semantics();
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     <span class="comment">// debugging stuff:</span>
<a name="l00418"></a>00418 
<a name="l00419"></a>00419   <span class="keyword">public</span>:
<a name="l00420"></a><a class="code" href="a00158.html#a99cc428f873fa6470a210f92a19098c1">00420</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>*                 file;
<a name="l00421"></a><a class="code" href="a00158.html#a3484e4adfe2f43e2115929f2798f90fe">00421</a>     <span class="keywordtype">int</span>                         lineno;
<a name="l00422"></a><a class="code" href="a00158.html#a5d0b56fd49755c938b8ffcd4c7e1097e">00422</a>     <span class="keywordtype">int</span>                         proc_id;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424   <span class="keyword">protected</span>:
<a name="l00425"></a><a class="code" href="a00158.html#a11b3d6abee08c4193a82800496c3f770">00425</a>     <span class="keywordtype">int</span>                          m_active_areset_n; <span class="comment">// number of aresets active.</span>
<a name="l00426"></a><a class="code" href="a00158.html#a6b933e4ff7ebfa245069cb79e3bc2788">00426</a>     <span class="keywordtype">int</span>                          m_active_reset_n;  <span class="comment">// number of resets active.</span>
<a name="l00427"></a><a class="code" href="a00158.html#a4bba193dd9f42734a0bf18e694464c9d">00427</a>     <span class="keywordtype">bool</span>                         m_dont_init;       <span class="comment">// true: no initialize call.</span>
<a name="l00428"></a><a class="code" href="a00158.html#a713952890dc059af03e3b0943496316f">00428</a>     <a class="code" href="a00158.html#abb492afddf95c95018a2c048de36eb3c">spawn_t</a>                      m_dynamic_proc;    <span class="comment">// SPAWN_ELAB, SPAWN_START, SPAWN_SIM</span>
<a name="l00429"></a><a class="code" href="a00158.html#acd2ccfa88438085032b72d154ea6c733">00429</a>     <span class="keyword">const</span> <a class="code" href="a00048.html">sc_event</a>*              m_event_p;         <span class="comment">// Dynamic event waiting on.</span>
<a name="l00430"></a><a class="code" href="a00158.html#aa06f8822ecee9661a4558f165915060b">00430</a>     <span class="keywordtype">int</span>                          m_event_count;     <span class="comment">// number of events.</span>
<a name="l00431"></a><a class="code" href="a00158.html#a6d6e55ba572b77c74dc9999946a5b9e5">00431</a>     <span class="keyword">const</span> <a class="code" href="a00053.html">sc_event_list</a>*         m_event_list_p;    <span class="comment">// event list waiting on.</span>
<a name="l00432"></a><a class="code" href="a00158.html#ab816e15feece55ddbda9dbc46cbd6659">00432</a>     <a class="code" href="a00158.html">sc_process_b</a>*                m_exist_p;         <span class="comment">// process existence link.</span>
<a name="l00433"></a><a class="code" href="a00158.html#ad2c393784246e910cda401a479b0ee13">00433</a>     <span class="keywordtype">bool</span>                         m_free_host;       <span class="comment">// free sc_semantic_host_p.</span>
<a name="l00434"></a><a class="code" href="a00158.html#a70c3c7de06e5a03b39052f17c4dd9207">00434</a>     <span class="keywordtype">bool</span>                         m_has_reset_signal;  <span class="comment">// has reset_signal_is.</span>
<a name="l00435"></a><a class="code" href="a00158.html#a9290049f92d92b2cd8669cabd0f2359c">00435</a>     <span class="keywordtype">bool</span>                         m_has_stack;       <span class="comment">// true is stack present.</span>
<a name="l00436"></a><a class="code" href="a00158.html#a52f7ec996a79e50038b84c085c9d6975">00436</a>     <span class="keywordtype">bool</span>                         m_is_thread;       <span class="comment">// true if this is thread.</span>
<a name="l00437"></a><a class="code" href="a00158.html#a00d61b089792b1bb93e5866c8067014a">00437</a>     <a class="code" href="a00173.html">sc_report</a>*                   m_last_report_p;   <span class="comment">// last report this process.</span>
<a name="l00438"></a><a class="code" href="a00158.html#ab9b257a883c0a4d73d5b02c72ae2896b">00438</a>     <a class="code" href="a00133.html">sc_name_gen</a>*                 m_name_gen_p;      <span class="comment">// subprocess name generator</span>
<a name="l00439"></a><a class="code" href="a00158.html#af40bf45d91c9766c3582f8a5aa8aa0c6">00439</a>     <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045">sc_curr_proc_kind</a>            m_process_kind;    <span class="comment">// type of process.</span>
<a name="l00440"></a><a class="code" href="a00158.html#aaef110083edfc73e241617a1b5e5fb4f">00440</a>     <span class="keywordtype">int</span>                          m_references_n;    <span class="comment">// outstanding handles.</span>
<a name="l00441"></a><a class="code" href="a00158.html#ad2f2018f471252b6cb453dd95ffd5ff2">00441</a>     std::vector&lt;sc_reset*&gt;       m_resets;          <span class="comment">// resets for process.</span>
<a name="l00442"></a><a class="code" href="a00158.html#a1c8ef5a4fb1d603649d1dbe6e3188848">00442</a>     <a class="code" href="a00048.html">sc_event</a>*                    m_reset_event_p;   <span class="comment">// reset event.</span>
<a name="l00443"></a><a class="code" href="a00158.html#a14c3baa00f8759d75c35fee61f612210">00443</a>     <a class="code" href="a00048.html">sc_event</a>*                    m_resume_event_p;  <span class="comment">// resume event.</span>
<a name="l00444"></a><a class="code" href="a00158.html#a4090b13b42cd1259d2b40867a1ca5855">00444</a>     <a class="code" href="a00158.html">sc_process_b</a>*                m_runnable_p;      <span class="comment">// sc_runnable link</span>
<a name="l00445"></a><a class="code" href="a00158.html#aded7ad046c6039c7aa86240cd50eb418">00445</a>     <a class="code" href="a00160.html">sc_process_host</a>*             m_semantics_host_p;   <span class="comment">// host for semantics.</span>
<a name="l00446"></a><a class="code" href="a00158.html#a8926a28a0c67059c2e4b66af1e52476e">00446</a>     <a class="code" href="a00404.html#aa2d527707e5ea738c2051baf01ae500e">SC_ENTRY_FUNC</a>                m_semantics_method_p; <span class="comment">// method for semantics.</span>
<a name="l00447"></a><a class="code" href="a00158.html#a3a7c616f6590f84df9caff51ef47ab29">00447</a>     <span class="keywordtype">int</span>                          m_state;           <span class="comment">// process state.</span>
<a name="l00448"></a><a class="code" href="a00158.html#afa69a0ea561f83794f7a22e0278fae1d">00448</a>     std::vector&lt;const sc_event*&gt; m_static_events;   <span class="comment">// static events waiting on.</span>
<a name="l00449"></a><a class="code" href="a00158.html#a04b6f76ef03e8092d0d1510934a757dc">00449</a>     <span class="keywordtype">bool</span>                         m_sticky_reset;    <span class="comment">// see note 3 above.</span>
<a name="l00450"></a><a class="code" href="a00158.html#a3ec8bdaa79ba3c4e9e04fb4d8aeaba09">00450</a>     <a class="code" href="a00048.html">sc_event</a>*                    m_term_event_p;    <span class="comment">// terminated event.</span>
<a name="l00451"></a><a class="code" href="a00158.html#a738d6e9f16a1650d015651c307c2d99e">00451</a>     <a class="code" href="a00213.html">sc_throw_it_helper</a>*          m_throw_helper_p;  <span class="comment">// what to throw.</span>
<a name="l00452"></a><a class="code" href="a00158.html#a5eb7fe7c88ba1de299071e9dec2ea02f">00452</a>     <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784">process_throw_type</a>           m_throw_status;    <span class="comment">// exception throwing status</span>
<a name="l00453"></a><a class="code" href="a00158.html#a8e21c84fe49e911a4f2fbe76e98d5e7d">00453</a>     <span class="keywordtype">bool</span>                         m_timed_out;       <span class="comment">// true if we timed out.</span>
<a name="l00454"></a><a class="code" href="a00158.html#a7a4fb73508cd06832780de9b4ce1ea9a">00454</a>     <a class="code" href="a00048.html">sc_event</a>*                    m_timeout_event_p; <span class="comment">// timeout event.</span>
<a name="l00455"></a><a class="code" href="a00158.html#a35a19ed7e35d33ea77db5042c98f9ce9">00455</a>     <a class="code" href="a00158.html#aed728eb97299bc2cc355d521245e5a94">trigger_t</a>                    m_trigger_type;    <span class="comment">// type of trigger using.</span>
<a name="l00456"></a><a class="code" href="a00158.html#a17bd4b253de298fb1694a6100b5d3230">00456</a>     <span class="keywordtype">bool</span>                         m_unwinding;       <span class="comment">// true if unwinding stack.</span>
<a name="l00457"></a>00457 
<a name="l00458"></a>00458   <span class="keyword">protected</span>:
<a name="l00459"></a><a class="code" href="a00158.html#a48edb38a4b7e32433804933444cabd5e">00459</a>     <span class="keyword">static</span> <a class="code" href="a00158.html">sc_process_b</a>* m_last_created_process_p; <span class="comment">// Last process created.</span>
<a name="l00460"></a>00460 };
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="a00404.html#a85f3e5fe082e73bd7888c38a70072779">00462</a> <span class="keyword">typedef</span> <a class="code" href="a00158.html">sc_process_b</a> <a class="code" href="a00158.html">sc_process_b</a>;  <span class="comment">// For compatibility.</span>
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00466"></a>00466 <span class="comment">//&quot;sc_process_b::XXXX_child_YYYYY&quot;</span>
<a name="l00467"></a>00467 <span class="comment">//</span>
<a name="l00468"></a>00468 <span class="comment">// These methods provide child object support.</span>
<a name="l00469"></a>00469 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00470"></a>00470 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00471"></a><a class="code" href="a00158.html#aada14415b9be5b1b9beb4ed97a32742d">00471</a> <a class="code" href="a00158.html#aada14415b9be5b1b9beb4ed97a32742d">sc_process_b::add_child_object</a>( <a class="code" href="a00134.html">sc_object</a>* object_p )
<a name="l00472"></a>00472 {
<a name="l00473"></a>00473     <a class="code" href="a00158.html#aada14415b9be5b1b9beb4ed97a32742d">sc_object::add_child_object</a>( object_p );
<a name="l00474"></a>00474     reference_increment();
<a name="l00475"></a>00475 }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00478"></a><a class="code" href="a00158.html#ab9490244d3a43726e0240cfe12884830">00478</a> <a class="code" href="a00158.html#ab9490244d3a43726e0240cfe12884830">sc_process_b::remove_child_object</a>( <a class="code" href="a00134.html">sc_object</a>* object_p )
<a name="l00479"></a>00479 {
<a name="l00480"></a>00480     <span class="keywordflow">if</span> ( <a class="code" href="a00134.html#a79b493824069d6fccab14fc8d12f7648">sc_object::remove_child_object</a>( object_p ) ) {
<a name="l00481"></a>00481             reference_decrement();
<a name="l00482"></a>00482             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484     <span class="keywordflow">else</span>
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00487"></a>00487     }
<a name="l00488"></a>00488 }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="keyword">inline</span> const ::std::vector&lt;sc_object*&gt;&amp;
<a name="l00491"></a><a class="code" href="a00158.html#ad7f13f5508cca91b4f93743dcea88ca9">00491</a> <a class="code" href="a00158.html#ad7f13f5508cca91b4f93743dcea88ca9">sc_process_b::get_child_objects</a>()<span class="keyword"> const</span>
<a name="l00492"></a>00492 <span class="keyword"></span>{
<a name="l00493"></a>00493     <span class="keywordflow">return</span> m_child_objects;
<a name="l00494"></a>00494 }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00498"></a>00498 <span class="comment">//&quot;sc_process_b::initially_in_reset&quot;</span>
<a name="l00499"></a>00499 <span class="comment">//</span>
<a name="l00500"></a>00500 <span class="comment">// This inline method is a callback to indicate that a reset is active at</span>
<a name="l00501"></a>00501 <span class="comment">// start up. This is because the signal will have been initialized before</span>
<a name="l00502"></a>00502 <span class="comment">// a reset linkage for it is set up, so we won&apos;t get a reset_changed()</span>
<a name="l00503"></a>00503 <span class="comment">// callback.</span>
<a name="l00504"></a>00504 <span class="comment">//     async = true if this an asynchronous reset.</span>
<a name="l00505"></a>00505 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00506"></a><a class="code" href="a00158.html#a3fd75df28f38539e7266f2988e6a54af">00506</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00158.html#a3fd75df28f38539e7266f2988e6a54af">sc_process_b::initially_in_reset</a>( <span class="keywordtype">bool</span> async )
<a name="l00507"></a>00507 {
<a name="l00508"></a>00508     <span class="keywordflow">if</span> ( async )
<a name="l00509"></a>00509         <a class="code" href="a00158.html#a11b3d6abee08c4193a82800496c3f770">m_active_areset_n</a>++;
<a name="l00510"></a>00510     <span class="keywordflow">else</span>
<a name="l00511"></a>00511         <a class="code" href="a00158.html#a6b933e4ff7ebfa245069cb79e3bc2788">m_active_reset_n</a>++;
<a name="l00512"></a>00512 }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00515"></a>00515 <span class="comment">//&quot;sc_process_b::is_disabled&quot;</span>
<a name="l00516"></a>00516 <span class="comment">//</span>
<a name="l00517"></a>00517 <span class="comment">// This method returns true if this process is disabled.</span>
<a name="l00518"></a>00518 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00519"></a><a class="code" href="a00158.html#a7bc4b1d9d9324bf3409275bf5109fb0c">00519</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#a7bc4b1d9d9324bf3409275bf5109fb0c">sc_process_b::is_disabled</a>()<span class="keyword"> const</span>
<a name="l00520"></a>00520 <span class="keyword"></span>{
<a name="l00521"></a>00521     <span class="keywordflow">return</span> (<a class="code" href="a00158.html#a3a7c616f6590f84df9caff51ef47ab29">m_state</a> &amp; <a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a88e7de4bbbf33d9ae67354e37cee18b6">ps_bit_disabled</a>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00522"></a>00522 }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00525"></a>00525 <span class="comment">//&quot;sc_process_b::is_runnable&quot;</span>
<a name="l00526"></a>00526 <span class="comment">//</span>
<a name="l00527"></a>00527 <span class="comment">// This method returns true if this process is runnable. That is indicated</span>
<a name="l00528"></a>00528 <span class="comment">// by a non-zero m_runnable_p field.</span>
<a name="l00529"></a>00529 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00530"></a><a class="code" href="a00158.html#ac8868589f087a6be6aeba55e8d98ad35">00530</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#ac8868589f087a6be6aeba55e8d98ad35">sc_process_b::is_runnable</a>()<span class="keyword"> const</span>
<a name="l00531"></a>00531 <span class="keyword"></span>{
<a name="l00532"></a>00532     <span class="keywordflow">return</span> <a class="code" href="a00158.html#a4090b13b42cd1259d2b40867a1ca5855">m_runnable_p</a> != 0;
<a name="l00533"></a>00533 }
<a name="l00534"></a>00534 
<a name="l00535"></a>00535 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00536"></a>00536 <span class="comment">//&quot;sc_process_b::is_unwinding&quot;</span>
<a name="l00537"></a>00537 <span class="comment">//</span>
<a name="l00538"></a>00538 <span class="comment">// This method returns true if this process is unwinding from a kill or reset.</span>
<a name="l00539"></a>00539 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00540"></a><a class="code" href="a00158.html#a9e0a0b857cd238d98d28ff522160930d">00540</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#a9e0a0b857cd238d98d28ff522160930d">sc_process_b::is_unwinding</a>()<span class="keyword"> const</span>
<a name="l00541"></a>00541 <span class="keyword"></span>{
<a name="l00542"></a>00542     <span class="keywordflow">return</span> <a class="code" href="a00158.html#a17bd4b253de298fb1694a6100b5d3230">m_unwinding</a>;
<a name="l00543"></a>00543 }
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00546"></a>00546 <span class="comment">//&quot;sc_process_b::start_unwinding&quot;</span>
<a name="l00547"></a>00547 <span class="comment">//</span>
<a name="l00548"></a>00548 <span class="comment">// This method flags that this object instance should start unwinding if the</span>
<a name="l00549"></a>00549 <span class="comment">// current throw status requires an unwind.</span>
<a name="l00550"></a>00550 <span class="comment">//</span>
<a name="l00551"></a>00551 <span class="comment">// Result is true if the flag is set, false if the flag is already set.</span>
<a name="l00552"></a>00552 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00553"></a><a class="code" href="a00158.html#aec1fd9e4a80f0f70869a099750e9f682">00553</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#aec1fd9e4a80f0f70869a099750e9f682">sc_process_b::start_unwinding</a>()
<a name="l00554"></a>00554 {
<a name="l00555"></a>00555     <span class="keywordflow">if</span> ( !<a class="code" href="a00158.html#a17bd4b253de298fb1694a6100b5d3230">m_unwinding</a> )
<a name="l00556"></a>00556     {
<a name="l00557"></a>00557         <span class="keywordflow">switch</span>( <a class="code" href="a00158.html#a5eb7fe7c88ba1de299071e9dec2ea02f">m_throw_status</a> )
<a name="l00558"></a>00558         {
<a name="l00559"></a>00559           <span class="keywordflow">case</span> <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a288ddd2ebc117b8e3efa8f499e018bce">THROW_KILL</a>:
<a name="l00560"></a>00560           <span class="keywordflow">case</span> <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a97b12fe9ed7373e18fa66ffd1ec9f988">THROW_ASYNC_RESET</a>:
<a name="l00561"></a>00561           <span class="keywordflow">case</span> <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a9b3ad2c20e1c611bfe214298f7b0dfbd">THROW_SYNC_RESET</a>:
<a name="l00562"></a>00562             <a class="code" href="a00158.html#a17bd4b253de298fb1694a6100b5d3230">m_unwinding</a> = <span class="keyword">true</span>;
<a name="l00563"></a>00563              <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00564"></a>00564           <span class="keywordflow">case</span> <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a209bb27e361a60f551c3f557b111efa8">THROW_USER</a>:
<a name="l00565"></a>00565            <span class="keywordflow">default</span>:
<a name="l00566"></a>00566              <span class="keywordflow">break</span>;
<a name="l00567"></a>00567          }
<a name="l00568"></a>00568     }
<a name="l00569"></a>00569     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00570"></a>00570 }
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00573"></a>00573 <span class="comment">//&quot;sc_process_b::clear_unwinding&quot;</span>
<a name="l00574"></a>00574 <span class="comment">//</span>
<a name="l00575"></a>00575 <span class="comment">// This method clears this object instance&apos;s throw status and always returns</span>
<a name="l00576"></a>00576 <span class="comment">// true.</span>
<a name="l00577"></a>00577 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00578"></a><a class="code" href="a00158.html#a35cb7dad0a07d594dfcb6c5532e15b16">00578</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#a35cb7dad0a07d594dfcb6c5532e15b16">sc_process_b::clear_unwinding</a>()
<a name="l00579"></a>00579 {
<a name="l00580"></a>00580     <a class="code" href="a00158.html#a17bd4b253de298fb1694a6100b5d3230">m_unwinding</a> = <span class="keyword">false</span>;
<a name="l00581"></a>00581     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00582"></a>00582 }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00586"></a>00586 <span class="comment">//&quot;sc_process_b::last_created_process_base&quot;</span>
<a name="l00587"></a>00587 <span class="comment">//</span>
<a name="l00588"></a>00588 <span class="comment">// This virtual method returns the sc_process_b pointer for the last</span>
<a name="l00589"></a>00589 <span class="comment">// created process. It is only used internally by the simulator.</span>
<a name="l00590"></a>00590 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00591"></a><a class="code" href="a00158.html#a598fbf04facff586e0c743d007bd9cc3">00591</a> <span class="keyword">inline</span> <a class="code" href="a00158.html">sc_process_b</a>* <a class="code" href="a00158.html#a598fbf04facff586e0c743d007bd9cc3">sc_process_b::last_created_process_base</a>()
<a name="l00592"></a>00592 {
<a name="l00593"></a>00593     <span class="keywordflow">return</span> <a class="code" href="a00158.html#a48edb38a4b7e32433804933444cabd5e">m_last_created_process_p</a>;
<a name="l00594"></a>00594 }
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 
<a name="l00597"></a>00597 
<a name="l00598"></a>00598 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00599"></a>00599 <span class="comment">//&quot;sc_process_b::proc_kind&quot;</span>
<a name="l00600"></a>00600 <span class="comment">//</span>
<a name="l00601"></a>00601 <span class="comment">// This method returns the kind of this process.</span>
<a name="l00602"></a>00602 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00603"></a><a class="code" href="a00158.html#a65f62e4f94847652ac3dcbadf57b3e69">00603</a> <span class="keyword">inline</span> <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045">sc_curr_proc_kind</a> <a class="code" href="a00158.html#a65f62e4f94847652ac3dcbadf57b3e69">sc_process_b::proc_kind</a>()<span class="keyword"> const</span>
<a name="l00604"></a>00604 <span class="keyword"></span>{
<a name="l00605"></a>00605     <span class="keywordflow">return</span> <a class="code" href="a00158.html#af40bf45d91c9766c3582f8a5aa8aa0c6">m_process_kind</a>;
<a name="l00606"></a>00606 }
<a name="l00607"></a>00607 
<a name="l00608"></a>00608 
<a name="l00609"></a>00609 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00610"></a>00610 <span class="comment">//&quot;sc_process_b::reference_decrement&quot;</span>
<a name="l00611"></a>00611 <span class="comment">//</span>
<a name="l00612"></a>00612 <span class="comment">// This inline method decrements the number of outstanding references to this</span>
<a name="l00613"></a>00613 <span class="comment">// object instance. If the number of references goes to zero, this object</span>
<a name="l00614"></a>00614 <span class="comment">// can be deleted in &quot;sc_process_b::delete_process()&quot;.</span>
<a name="l00615"></a>00615 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00616"></a>00616 <span class="keyword">inline</span> <span class="keywordtype">void</span> sc_process_b::reference_decrement()
<a name="l00617"></a>00617 {
<a name="l00618"></a>00618     <a class="code" href="a00158.html#aaef110083edfc73e241617a1b5e5fb4f">m_references_n</a>--;
<a name="l00619"></a>00619     <span class="keywordflow">if</span> ( <a class="code" href="a00158.html#aaef110083edfc73e241617a1b5e5fb4f">m_references_n</a> == 0 ) delete_process();
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 
<a name="l00622"></a>00622 
<a name="l00623"></a>00623 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00624"></a>00624 <span class="comment">//&quot;sc_process_b::reference_increment&quot;</span>
<a name="l00625"></a>00625 <span class="comment">//</span>
<a name="l00626"></a>00626 <span class="comment">// This inline method increments the number of outstanding references to this</span>
<a name="l00627"></a>00627 <span class="comment">// object instance.</span>
<a name="l00628"></a>00628 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00629"></a>00629 <span class="keyword">inline</span> <span class="keywordtype">void</span> sc_process_b::reference_increment()
<a name="l00630"></a>00630 {
<a name="l00631"></a>00631     <a class="code" href="a00393.html#a74afc5942d7b28d11f360a6f03181daa">sc_assert</a>(<a class="code" href="a00158.html#aaef110083edfc73e241617a1b5e5fb4f">m_references_n</a> != 0);
<a name="l00632"></a>00632     <a class="code" href="a00158.html#aaef110083edfc73e241617a1b5e5fb4f">m_references_n</a>++;
<a name="l00633"></a>00633 }
<a name="l00634"></a>00634 
<a name="l00635"></a>00635 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00636"></a>00636 <span class="comment">//&quot;sc_process_b::semantics&quot;</span>
<a name="l00637"></a>00637 <span class="comment">//</span>
<a name="l00638"></a>00638 <span class="comment">// This inline method invokes the semantics for this object instance.</span>
<a name="l00639"></a>00639 <span class="comment">// We check to see if we are initially in reset and then invoke the</span>
<a name="l00640"></a>00640 <span class="comment">// process semantics.</span>
<a name="l00641"></a>00641 <span class="comment">//</span>
<a name="l00642"></a>00642 <span class="comment">// Notes:</span>
<a name="l00643"></a>00643 <span class="comment">//   (1) For a description of the process reset mechanism see the top of</span>
<a name="l00644"></a>00644 <span class="comment">//       the file sc_reset.cpp.</span>
<a name="l00645"></a>00645 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00646"></a><a class="code" href="a00264.html">00646</a> <span class="keyword">struct </span><a class="code" href="a00343.html#aff4a86b3f5de3ac2097081e7166fe89f">SC_API</a> <a class="code" href="a00264.html">scoped_flag</a>
<a name="l00647"></a>00647 {
<a name="l00648"></a><a class="code" href="a00264.html#a59abbd7bb29081aa55635e5489b0209b">00648</a>     <a class="code" href="a00264.html#a59abbd7bb29081aa55635e5489b0209b">scoped_flag</a>( <span class="keywordtype">bool</span>&amp; b ) : ref(b){ ref = <span class="keyword">true</span>;  }
<a name="l00649"></a><a class="code" href="a00264.html#a119776df26a46a3a139b5adc47ab86c2">00649</a>     <a class="code" href="a00264.html#a119776df26a46a3a139b5adc47ab86c2">~scoped_flag</a>()                 { ref = <span class="keyword">false</span>; }
<a name="l00650"></a><a class="code" href="a00264.html#ab43829487cd20678b771d37968d49181">00650</a>     <span class="keywordtype">bool</span>&amp; ref;
<a name="l00651"></a>00651 <span class="keyword">private</span>:
<a name="l00652"></a>00652     <a class="code" href="a00264.html">scoped_flag</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="a00264.html">scoped_flag</a>&amp;) <span class="comment">/* = delete */</span>;
<a name="l00653"></a>00653 };
<a name="l00654"></a><a class="code" href="a00158.html#aacccc829d67e9b6b9892a5446530e343">00654</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00158.html#aacccc829d67e9b6b9892a5446530e343">sc_process_b::semantics</a>()
<a name="l00655"></a>00655 {
<a name="l00656"></a>00656 
<a name="l00657"></a>00657     <span class="comment">// within this function, the process has a stack associated</span>
<a name="l00658"></a>00658 
<a name="l00659"></a>00659     <a class="code" href="a00264.html">scoped_flag</a> scoped_stack_flag( <a class="code" href="a00158.html#a9290049f92d92b2cd8669cabd0f2359c">m_has_stack</a> );
<a name="l00660"></a>00660 
<a name="l00661"></a>00661     <a class="code" href="a00393.html#a74afc5942d7b28d11f360a6f03181daa">sc_assert</a>( <a class="code" href="a00158.html#af40bf45d91c9766c3582f8a5aa8aa0c6">m_process_kind</a> != <a class="code" href="a00404.html#a55cfb0f6c35416b69482b689d24ed045a3da47e1b40676e185c64e09ca47f2b26">SC_NO_PROC_</a> );
<a name="l00662"></a>00662 
<a name="l00663"></a>00663     <span class="comment">// Determine the reset status of this object instance and potentially</span>
<a name="l00664"></a>00664     <span class="comment">// trigger its notify event:</span>
<a name="l00665"></a>00665 
<a name="l00666"></a>00666     <span class="comment">// See if we need to trigger the notify event:</span>
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="keywordflow">if</span> ( <a class="code" href="a00158.html#a1c8ef5a4fb1d603649d1dbe6e3188848">m_reset_event_p</a> &amp;&amp;
<a name="l00669"></a>00669          ( (<a class="code" href="a00158.html#a5eb7fe7c88ba1de299071e9dec2ea02f">m_throw_status</a> == <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a9b3ad2c20e1c611bfe214298f7b0dfbd">THROW_SYNC_RESET</a>) ||
<a name="l00670"></a>00670            (<a class="code" href="a00158.html#a5eb7fe7c88ba1de299071e9dec2ea02f">m_throw_status</a> == <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a97b12fe9ed7373e18fa66ffd1ec9f988">THROW_ASYNC_RESET</a>) )
<a name="l00671"></a>00671     ) {
<a name="l00672"></a>00672         <a class="code" href="a00158.html#aa5b7d4f76c359440b370b4962427ee5a">trigger_reset_event</a>();
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675     <span class="comment">// Set the new reset status of this object based on the reset counts:</span>
<a name="l00676"></a>00676 
<a name="l00677"></a>00677     <a class="code" href="a00158.html#a5eb7fe7c88ba1de299071e9dec2ea02f">m_throw_status</a> = <a class="code" href="a00158.html#a11b3d6abee08c4193a82800496c3f770">m_active_areset_n</a> ? <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a97b12fe9ed7373e18fa66ffd1ec9f988">THROW_ASYNC_RESET</a> :
<a name="l00678"></a>00678         ( <a class="code" href="a00158.html#a6b933e4ff7ebfa245069cb79e3bc2788">m_active_reset_n</a>  ?  <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a9b3ad2c20e1c611bfe214298f7b0dfbd">THROW_SYNC_RESET</a> : <a class="code" href="a00158.html#ac09c2c06a786f9911d58ad3515137784a24a72304587d661b4324884a702e56c8">THROW_NONE</a>);
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="comment">// Dispatch the actual semantics for the process:</span>
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 <span class="preprocessor">#   ifndef SC_USE_MEMBER_FUNC_PTR</span>
<a name="l00683"></a>00683 <span class="preprocessor"></span>        <a class="code" href="a00158.html#a8926a28a0c67059c2e4b66af1e52476e">m_semantics_method_p</a>-&gt;invoke( <a class="code" href="a00158.html#aded7ad046c6039c7aa86240cd50eb418">m_semantics_host_p</a> );
<a name="l00684"></a>00684 <span class="preprocessor">#   else</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span>        (<a class="code" href="a00158.html#aded7ad046c6039c7aa86240cd50eb418">m_semantics_host_p</a>-&gt;*<a class="code" href="a00158.html#a8926a28a0c67059c2e4b66af1e52476e">m_semantics_method_p</a>)();
<a name="l00686"></a>00686 <span class="preprocessor">#   endif</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span>}
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 
<a name="l00690"></a>00690 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00691"></a>00691 <span class="comment">//&quot;sc_process_b::terminated&quot;</span>
<a name="l00692"></a>00692 <span class="comment">//</span>
<a name="l00693"></a>00693 <span class="comment">// This inline method returns true if this object has terminated.</span>
<a name="l00694"></a>00694 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00695"></a><a class="code" href="a00158.html#ac13ea9a9620b60193cb0c57a12be7a65">00695</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#ac13ea9a9620b60193cb0c57a12be7a65">sc_process_b::terminated</a>()<span class="keyword"> const</span>
<a name="l00696"></a>00696 <span class="keyword"></span>{
<a name="l00697"></a>00697     <span class="keywordflow">return</span> (<a class="code" href="a00158.html#a3a7c616f6590f84df9caff51ef47ab29">m_state</a> &amp; <a class="code" href="a00158.html#a2933596250177f33a0a637caec05c443a60229a842a99b0f2f7d9fab83b3970d1">ps_bit_zombie</a>) != 0;
<a name="l00698"></a>00698 }
<a name="l00699"></a>00699 
<a name="l00700"></a>00700 
<a name="l00701"></a>00701 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00702"></a>00702 <span class="comment">//&quot;sc_process_b::timed_out&quot;</span>
<a name="l00703"></a>00703 <span class="comment">//</span>
<a name="l00704"></a>00704 <span class="comment">// This inline method returns true if this object instance timed out.</span>
<a name="l00705"></a>00705 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00706"></a><a class="code" href="a00158.html#a4f26ffea5aa29088fe7780ec4ea82f34">00706</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00158.html#a4f26ffea5aa29088fe7780ec4ea82f34">sc_process_b::timed_out</a>()<span class="keyword"> const</span>
<a name="l00707"></a>00707 <span class="keyword"></span>{
<a name="l00708"></a>00708     <span class="keywordflow">return</span> <a class="code" href="a00158.html#a8e21c84fe49e911a4f2fbe76e98d5e7d">m_timed_out</a>;
<a name="l00709"></a>00709 }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 } <span class="comment">// namespace sc_core</span>
<a name="l00712"></a>00712 
<a name="l00713"></a>00713 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; !defined(SC_WIN_DLL_WARN)</span>
<a name="l00714"></a>00714 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(pop)</span>
<a name="l00715"></a>00715 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00716"></a>00716 <span class="preprocessor"></span>
<a name="l00717"></a>00717 <span class="comment">/*****************************************************************************</span>
<a name="l00718"></a>00718 <span class="comment"></span>
<a name="l00719"></a>00719 <span class="comment">  MODIFICATION LOG - modifiers, enter your name, affiliation, date and</span>
<a name="l00720"></a>00720 <span class="comment">  changes you are making here.</span>
<a name="l00721"></a>00721 <span class="comment"></span>
<a name="l00722"></a>00722 <span class="comment">      Name, Affiliation, Date: Andy Goodrich, Forte Design Systems, 12 Aug 05</span>
<a name="l00723"></a>00723 <span class="comment">  Description of Modification: This is the rewrite of process support. It</span>
<a name="l00724"></a>00724 <span class="comment">                               contains some code from the original</span>
<a name="l00725"></a>00725 <span class="comment">                               sc_process.h by Stan Liao, and the now-defunct</span>
<a name="l00726"></a>00726 <span class="comment">                               sc_process_b.h by Stan Liao and Martin</span>
<a name="l00727"></a>00727 <span class="comment">                               Janssen, all of Synopsys, Inc., It also contains</span>
<a name="l00728"></a>00728 <span class="comment">                               code from the original sc_process_b.h by</span>
<a name="l00729"></a>00729 <span class="comment">                               Andy Goodrich of Forte Design Systems and</span>
<a name="l00730"></a>00730 <span class="comment">                               Bishnupriya Bhattacharya of Cadence Design</span>
<a name="l00731"></a>00731 <span class="comment">                               Systems.</span>
<a name="l00732"></a>00732 <span class="comment"></span>
<a name="l00733"></a>00733 <span class="comment">      Name, Affiliation, Date:</span>
<a name="l00734"></a>00734 <span class="comment">  Description of Modification:</span>
<a name="l00735"></a>00735 <span class="comment"></span>
<a name="l00736"></a>00736 <span class="comment"> *****************************************************************************/</span>
<a name="l00737"></a>00737 
<a name="l00738"></a>00738 <span class="comment">// $Log: sc_process.h,v $</span>
<a name="l00739"></a>00739 <span class="comment">// Revision 1.36  2011/08/26 22:44:30  acg</span>
<a name="l00740"></a>00740 <span class="comment">//  Torsten Maehne: eliminate unused argument warning.</span>
<a name="l00741"></a>00741 <span class="comment">//</span>
<a name="l00742"></a>00742 <span class="comment">// Revision 1.35  2011/08/26 20:46:10  acg</span>
<a name="l00743"></a>00743 <span class="comment">//  Andy Goodrich: moved the modification log to the end of the file to</span>
<a name="l00744"></a>00744 <span class="comment">//  eliminate source line number skew when check-ins are done.</span>
<a name="l00745"></a>00745 <span class="comment">//</span>
<a name="l00746"></a>00746 <span class="comment">// Revision 1.34  2011/08/24 22:05:51  acg</span>
<a name="l00747"></a>00747 <span class="comment">//  Torsten Maehne: initialization changes to remove warnings.</span>
<a name="l00748"></a>00748 <span class="comment">//</span>
<a name="l00749"></a>00749 <span class="comment">// Revision 1.33  2011/08/15 16:43:24  acg</span>
<a name="l00750"></a>00750 <span class="comment">//  Torsten Maehne: changes to remove unused argument warnings.</span>
<a name="l00751"></a>00751 <span class="comment">//</span>
<a name="l00752"></a>00752 <span class="comment">// Revision 1.32  2011/07/24 11:20:03  acg</span>
<a name="l00753"></a>00753 <span class="comment">//  Philipp A. Hartmann: process control error message improvements:</span>
<a name="l00754"></a>00754 <span class="comment">//  (1) Downgrade error to warning for re-kills of processes.</span>
<a name="l00755"></a>00755 <span class="comment">//  (2) Add process name to process messages.</span>
<a name="l00756"></a>00756 <span class="comment">//  (3) drop some superfluous colons in messages.</span>
<a name="l00757"></a>00757 <span class="comment">//</span>
<a name="l00758"></a>00758 <span class="comment">// Revision 1.31  2011/04/13 02:44:26  acg</span>
<a name="l00759"></a>00759 <span class="comment">//  Andy Goodrich: added m_unwinding flag in place of THROW_NOW because the</span>
<a name="l00760"></a>00760 <span class="comment">//  throw status will be set back to THROW_*_RESET if reset is active and</span>
<a name="l00761"></a>00761 <span class="comment">//  the check for an unwind being complete was expecting THROW_NONE as the</span>
<a name="l00762"></a>00762 <span class="comment">//  clearing of THROW_NOW.</span>
<a name="l00763"></a>00763 <span class="comment">//</span>
<a name="l00764"></a>00764 <span class="comment">// Revision 1.30  2011/04/11 22:07:27  acg</span>
<a name="l00765"></a>00765 <span class="comment">//  Andy Goodrich: check for reset event notification before resetting the</span>
<a name="l00766"></a>00766 <span class="comment">//  throw_status value.</span>
<a name="l00767"></a>00767 <span class="comment">//</span>
<a name="l00768"></a>00768 <span class="comment">// Revision 1.29  2011/04/10 22:17:36  acg</span>
<a name="l00769"></a>00769 <span class="comment">//  Andy Goodrich: added trigger_reset_event() to allow sc_process.h to</span>
<a name="l00770"></a>00770 <span class="comment">//  contain the run_process() inline method. sc_process.h cannot have</span>
<a name="l00771"></a>00771 <span class="comment">//  sc_simcontext information because of recursive includes.</span>
<a name="l00772"></a>00772 <span class="comment">//</span>
<a name="l00773"></a>00773 <span class="comment">// Revision 1.28  2011/04/08 22:34:06  acg</span>
<a name="l00774"></a>00774 <span class="comment">//  Andy Goodrich: moved the semantics() method to this file and made it</span>
<a name="l00775"></a>00775 <span class="comment">//  an inline method. Added reset processing to the semantics() method.</span>
<a name="l00776"></a>00776 <span class="comment">//</span>
<a name="l00777"></a>00777 <span class="comment">// Revision 1.27  2011/04/08 18:24:48  acg</span>
<a name="l00778"></a>00778 <span class="comment">//  Andy Goodrich: moved reset_changed() to .cpp since it needs visibility</span>
<a name="l00779"></a>00779 <span class="comment">//  to sc_simcontext.</span>
<a name="l00780"></a>00780 <span class="comment">//</span>
<a name="l00781"></a>00781 <span class="comment">// Revision 1.26  2011/04/01 21:24:57  acg</span>
<a name="l00782"></a>00782 <span class="comment">//  Andy Goodrich: removed unused code.</span>
<a name="l00783"></a>00783 <span class="comment">//</span>
<a name="l00784"></a>00784 <span class="comment">// Revision 1.25  2011/03/28 13:02:51  acg</span>
<a name="l00785"></a>00785 <span class="comment">//  Andy Goodrich: Changes for disable() interactions.</span>
<a name="l00786"></a>00786 <span class="comment">//</span>
<a name="l00787"></a>00787 <span class="comment">// Revision 1.24  2011/03/20 13:43:23  acg</span>
<a name="l00788"></a>00788 <span class="comment">//  Andy Goodrich: added async_signal_is() plus suspend() as a corner case.</span>
<a name="l00789"></a>00789 <span class="comment">//</span>
<a name="l00790"></a>00790 <span class="comment">// Revision 1.23  2011/03/12 21:07:51  acg</span>
<a name="l00791"></a>00791 <span class="comment">//  Andy Goodrich: changes to kernel generated event support.</span>
<a name="l00792"></a>00792 <span class="comment">//</span>
<a name="l00793"></a>00793 <span class="comment">// Revision 1.22  2011/03/08 20:49:31  acg</span>
<a name="l00794"></a>00794 <span class="comment">//  Andy Goodrich: implement coarse checking for synchronous reset - suspend</span>
<a name="l00795"></a>00795 <span class="comment">//  interaction.</span>
<a name="l00796"></a>00796 <span class="comment">//</span>
<a name="l00797"></a>00797 <span class="comment">// Revision 1.21  2011/03/07 17:38:43  acg</span>
<a name="l00798"></a>00798 <span class="comment">//  Andy Goodrich: tightening up of checks for undefined interaction between</span>
<a name="l00799"></a>00799 <span class="comment">//  synchronous reset and suspend.</span>
<a name="l00800"></a>00800 <span class="comment">//</span>
<a name="l00801"></a>00801 <span class="comment">// Revision 1.20  2011/03/06 19:57:11  acg</span>
<a name="l00802"></a>00802 <span class="comment">//  Andy Goodrich: refinements for the illegal suspend - synchronous reset</span>
<a name="l00803"></a>00803 <span class="comment">//  interaction.</span>
<a name="l00804"></a>00804 <span class="comment">//</span>
<a name="l00805"></a>00805 <span class="comment">// Revision 1.19  2011/03/05 19:44:20  acg</span>
<a name="l00806"></a>00806 <span class="comment">//  Andy Goodrich: changes for object and event naming and structures.</span>
<a name="l00807"></a>00807 <span class="comment">//</span>
<a name="l00808"></a>00808 <span class="comment">// Revision 1.18  2011/02/19 08:30:53  acg</span>
<a name="l00809"></a>00809 <span class="comment">//  Andy Goodrich: Moved process queueing into trigger_static from</span>
<a name="l00810"></a>00810 <span class="comment">//  sc_event::notify.</span>
<a name="l00811"></a>00811 <span class="comment">//</span>
<a name="l00812"></a>00812 <span class="comment">// Revision 1.17  2011/02/18 20:27:14  acg</span>
<a name="l00813"></a>00813 <span class="comment">//  Andy Goodrich: Updated Copyrights.</span>
<a name="l00814"></a>00814 <span class="comment">//</span>
<a name="l00815"></a>00815 <span class="comment">// Revision 1.16  2011/02/18 20:10:44  acg</span>
<a name="l00816"></a>00816 <span class="comment">//  Philipp A. Hartmann: force return expression to be a bool to keep MSVC</span>
<a name="l00817"></a>00817 <span class="comment">//  happy.</span>
<a name="l00818"></a>00818 <span class="comment">//</span>
<a name="l00819"></a>00819 <span class="comment">// Revision 1.15  2011/02/17 19:52:45  acg</span>
<a name="l00820"></a>00820 <span class="comment">//  Andy Goodrich:</span>
<a name="l00821"></a>00821 <span class="comment">//    (1) Simplified process control usage.</span>
<a name="l00822"></a>00822 <span class="comment">//    (2) Changed dump_status() to dump_state() with new signature.</span>
<a name="l00823"></a>00823 <span class="comment">//</span>
<a name="l00824"></a>00824 <span class="comment">// Revision 1.14  2011/02/16 22:37:30  acg</span>
<a name="l00825"></a>00825 <span class="comment">//  Andy Goodrich: clean up to remove need for ps_disable_pending.</span>
<a name="l00826"></a>00826 <span class="comment">//</span>
<a name="l00827"></a>00827 <span class="comment">// Revision 1.13  2011/02/13 21:47:37  acg</span>
<a name="l00828"></a>00828 <span class="comment">//  Andy Goodrich: update copyright notice.</span>
<a name="l00829"></a>00829 <span class="comment">//</span>
<a name="l00830"></a>00830 <span class="comment">// Revision 1.12  2011/02/13 21:41:34  acg</span>
<a name="l00831"></a>00831 <span class="comment">//  Andy Goodrich: get the log messages for the previous check in correct.</span>
<a name="l00832"></a>00832 <span class="comment">//</span>
<a name="l00833"></a>00833 <span class="comment">// Revision 1.11  2011/02/13 21:32:24  acg</span>
<a name="l00834"></a>00834 <span class="comment">//  Andy Goodrich: moved sc_process_b::reset_process() implementation</span>
<a name="l00835"></a>00835 <span class="comment">//  from header to cpp file . Added dump_status() to print out the status of a</span>
<a name="l00836"></a>00836 <span class="comment">//  process.</span>
<a name="l00837"></a>00837 <span class="comment">//</span>
<a name="l00838"></a>00838 <span class="comment">// Revision 1.10  2011/02/11 13:25:24  acg</span>
<a name="l00839"></a>00839 <span class="comment">//  Andy Goodrich: Philipp A. Hartmann&apos;s changes:</span>
<a name="l00840"></a>00840 <span class="comment">//    (1) Removal of SC_CTHREAD method overloads.</span>
<a name="l00841"></a>00841 <span class="comment">//    (2) New exception processing code.</span>
<a name="l00842"></a>00842 <span class="comment">//</span>
<a name="l00843"></a>00843 <span class="comment">// Revision 1.9  2011/02/04 15:27:36  acg</span>
<a name="l00844"></a>00844 <span class="comment">//  Andy Goodrich: changes for suspend-resume semantics.</span>
<a name="l00845"></a>00845 <span class="comment">//</span>
<a name="l00846"></a>00846 <span class="comment">// Revision 1.8  2011/02/01 21:06:12  acg</span>
<a name="l00847"></a>00847 <span class="comment">//  Andy Goodrich: new layout for the process_state enum.</span>
<a name="l00848"></a>00848 <span class="comment">//</span>
<a name="l00849"></a>00849 <span class="comment">// Revision 1.7  2011/01/25 20:50:37  acg</span>
<a name="l00850"></a>00850 <span class="comment">//  Andy Goodrich: changes for IEEE 1666 2011.</span>
<a name="l00851"></a>00851 <span class="comment">//</span>
<a name="l00852"></a>00852 <span class="comment">// Revision 1.6  2011/01/19 23:21:50  acg</span>
<a name="l00853"></a>00853 <span class="comment">//  Andy Goodrich: changes for IEEE 1666 2011</span>
<a name="l00854"></a>00854 <span class="comment">//</span>
<a name="l00855"></a>00855 <span class="comment">// Revision 1.5  2011/01/18 20:10:45  acg</span>
<a name="l00856"></a>00856 <span class="comment">//  Andy Goodrich: changes for IEEE1666_2011 semantics.</span>
<a name="l00857"></a>00857 <span class="comment">//</span>
<a name="l00858"></a>00858 <span class="comment">// Revision 1.4  2010/07/22 20:02:33  acg</span>
<a name="l00859"></a>00859 <span class="comment">//  Andy Goodrich: bug fixes.</span>
<a name="l00860"></a>00860 <span class="comment">//</span>
<a name="l00861"></a>00861 <span class="comment">// Revision 1.3  2009/05/22 16:06:29  acg</span>
<a name="l00862"></a>00862 <span class="comment">//  Andy Goodrich: process control updates.</span>
<a name="l00863"></a>00863 <span class="comment">//</span>
<a name="l00864"></a>00864 <span class="comment">// Revision 1.2  2008/05/22 17:06:26  acg</span>
<a name="l00865"></a>00865 <span class="comment">//  Andy Goodrich: updated copyright notice to include 2008.</span>
<a name="l00866"></a>00866 <span class="comment">//</span>
<a name="l00867"></a>00867 <span class="comment">// Revision 1.1.1.1  2006/12/15 20:20:05  acg</span>
<a name="l00868"></a>00868 <span class="comment">// SystemC 2.3</span>
<a name="l00869"></a>00869 <span class="comment">//</span>
<a name="l00870"></a>00870 <span class="comment">// Revision 1.11  2006/05/08 17:58:10  acg</span>
<a name="l00871"></a>00871 <span class="comment">// Andy Goodrich: added David Long&apos;s forward declarations for friend</span>
<a name="l00872"></a>00872 <span class="comment">//   functions, methods, and operators to keep the Microsoft compiler happy.</span>
<a name="l00873"></a>00873 <span class="comment">//</span>
<a name="l00874"></a>00874 <span class="comment">// Revision 1.10  2006/04/28 23:29:01  acg</span>
<a name="l00875"></a>00875 <span class="comment">//  Andy Goodrich: added an sc_core:: prefix to SC_FUNC_PTR in the</span>
<a name="l00876"></a>00876 <span class="comment">//  SC_MAKE_FUNC_PTR macro to allow its transpareuse outside of the sc_core</span>
<a name="l00877"></a>00877 <span class="comment">//  namespace.</span>
<a name="l00878"></a>00878 <span class="comment">//</span>
<a name="l00879"></a>00879 <span class="comment">// Revision 1.9  2006/04/28 21:52:57  acg</span>
<a name="l00880"></a>00880 <span class="comment">//  Andy Goodrich: changed SC_MAKE_FUNC_PTR to use a static cast to address</span>
<a name="l00881"></a>00881 <span class="comment">//  and AIX issue wrt sc_module&apos;s inherited classes.</span>
<a name="l00882"></a>00882 <span class="comment">//</span>
<a name="l00883"></a>00883 <span class="comment">// Revision 1.8  2006/04/20 17:08:17  acg</span>
<a name="l00884"></a>00884 <span class="comment">//  Andy Goodrich: 3.0 style process changes.</span>
<a name="l00885"></a>00885 <span class="comment">//</span>
<a name="l00886"></a>00886 <span class="comment">// Revision 1.7  2006/04/11 23:13:21  acg</span>
<a name="l00887"></a>00887 <span class="comment">//   Andy Goodrich: Changes for reduced reset support that only includes</span>
<a name="l00888"></a>00888 <span class="comment">//   sc_cthread, but has preliminary hooks for expanding to method and thread</span>
<a name="l00889"></a>00889 <span class="comment">//   processes also.</span>
<a name="l00890"></a>00890 <span class="comment">//</span>
<a name="l00891"></a>00891 <span class="comment">// Revision 1.6  2006/03/13 20:26:50  acg</span>
<a name="l00892"></a>00892 <span class="comment">//  Andy Goodrich: Addition of forward class declarations, e.g.,</span>
<a name="l00893"></a>00893 <span class="comment">//  sc_reset, to keep gcc 4.x happy.</span>
<a name="l00894"></a>00894 <span class="comment">//</span>
<a name="l00895"></a>00895 <span class="comment">// Revision 1.5  2006/01/31 20:09:10  acg</span>
<a name="l00896"></a>00896 <span class="comment">//  Andy Goodrich: added explaination of static vs dynamic waits to</span>
<a name="l00897"></a>00897 <span class="comment">//  sc_process_b::trigger_static.</span>
<a name="l00898"></a>00898 <span class="comment">//</span>
<a name="l00899"></a>00899 <span class="comment">// Revision 1.4  2006/01/24 20:49:05  acg</span>
<a name="l00900"></a>00900 <span class="comment">// Andy Goodrich: changes to remove the use of deprecated features within the</span>
<a name="l00901"></a>00901 <span class="comment">// simulator, and to issue warning messages when deprecated features are used.</span>
<a name="l00902"></a>00902 <span class="comment">//</span>
<a name="l00903"></a>00903 <span class="comment">// Revision 1.3  2006/01/13 18:44:30  acg</span>
<a name="l00904"></a>00904 <span class="comment">// Added $Log to record CVS changes into the source.</span>
<a name="l00905"></a>00905 
<a name="l00906"></a>00906 <span class="preprocessor">#endif // !defined(sc_process_h_INCLUDED)</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 10 Dec 2020 for SystemCLanguage by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
